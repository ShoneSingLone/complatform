{"version":3,"file":"InterfaceDetail.27ddc346.js","sources":["../../src/components/InputKeyValue.tsx","../../src/containers/Project/Interface/DialogUpsertTags.tsx","../../src/containers/Project/Interface/DialogUpsertProxyEnv.tsx","../../src/components/interfaceParams/BodyParamsForm.tsx","../../src/components/interfaceParams/BodyParamsRaw.tsx","../../src/components/interfaceParams/DialogBulkValues.tsx","../../src/components/interfaceParams/BodyParamsPanel.tsx","../../src/components/interfaceParams/HeaderParamsForm.tsx","../../src/components/interfaceParams/HeaderParamsPanel.tsx","../../src/components/RequestArgsPanel.tsx","../../src/containers/Project/Interface/DialogModifyInterface.tsx","../../src/containers/Project/Interface/InterfaceDetail.tsx"],"sourcesContent":["import { FormRules, xU } from \"@ventose/ui\";\nimport { State_App } from \"src/state/State_App\";\nimport { defineComponent } from \"vue\";\n\nexport function makeKeyValueObj(i: any) {\n\treturn { key: i.name, value: i.value };\n}\nexport function makeNameValueObj(i: any) {\n\treturn { name: i.key, value: i.value };\n}\nexport function orderAsc(a, b) {\n\treturn a - b < 0 ? -1 : 1;\n}\n\n/* 只能处理全量的upsert，因为没有保留_id这样的信息，方便diff的时候做判断 */\nexport const InputKeyValue = defineComponent({\n\tprops: [\n\t\t\"items\",\n\t\t/* fnCheck 提供额外的校验方法，满足基本的校验之后，由外部规则决定是否通过 */\n\t\t\"genItem\",\n\t\t/* fnCheck 提供额外的校验方法，满足基本的校验之后，由外部规则决定是否通过 */\n\t\t\"fnCheck\"\n\t],\n\temits: [\"update:items\"],\n\tsetup() {\n\t\treturn { State_App };\n\t},\n\tdata() {\n\t\treturn { privateItems: {}, isLoading: true };\n\t},\n\twatch: {\n\t\tformData() {\n\t\t\tthis.isLoading = true;\n\t\t\tthis.checkFormDataDebounce();\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.setPrivateItems();\n\t},\n\tcomputed: {\n\t\tformData() {\n\t\t\tconst formData = xU.reduce(\n\t\t\t\tthis.privateItems,\n\t\t\t\t(formData, privateTag, prop) => {\n\t\t\t\t\tformData[prop] = {\n\t\t\t\t\t\tkey: privateTag.keyConfigs.value,\n\t\t\t\t\t\tvalue: privateTag.valueConfigs.value\n\t\t\t\t\t};\n\t\t\t\t\treturn formData;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t\treturn formData;\n\t\t},\n\t\tvDomItems() {\n\t\t\tconst vDomItems = xU.map(\n\t\t\t\tthis.privateItems,\n\t\t\t\t({ valueConfigs, keyConfigs, _id }, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div class=\"flex mt10 baseline\" key={index}>\n\t\t\t\t\t\t\t<xItem configs={keyConfigs} />\n\t\t\t\t\t\t\t<xGap l=\"10\" />\n\t\t\t\t\t\t\t<span class=\"flex middle\">\n\t\t\t\t\t\t\t\t<xItem configs={valueConfigs} />\n\t\t\t\t\t\t\t\t<xGap l=\"10\" />\n\t\t\t\t\t\t\t\t<xIcon\n\t\t\t\t\t\t\t\t\tv-loading={this.isLoading}\n\t\t\t\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\t\t\t\tonClick={() => this.deleteItem(index)}\n\t\t\t\t\t\t\t\t\tstyle=\"color:red;\"\n\t\t\t\t\t\t\t\t\tclass=\"pointer\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn vDomItems;\n\t\t}\n\t},\n\tmethods: {\n\t\tsetPrivateItems() {\n\t\t\tconst { items } = this;\n\t\t\tconst vm = this;\n\t\t\tif (xU.isArrayFill(items)) {\n\t\t\t\tlet index = 1;\n\t\t\t\tthis.privateItems = xU.reduce(\n\t\t\t\t\titems,\n\t\t\t\t\t(_items, tag) => {\n\t\t\t\t\t\t_items[index] = this.genItem({\n\t\t\t\t\t\t\t...tag,\n\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t});\n\t\t\t\t\t\t++index;\n\t\t\t\t\t\treturn _items;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.privateItems = { 0: this.genItem({ index: 0 }) };\n\t\t\t}\n\t\t},\n\t\tcheckFormDataDebounce: xU.debounce(function () {\n\t\t\tif (this.isFormDataOk()) {\n\t\t\t\tconst keys = Object.keys(this.formData).map(Number).sort(orderAsc);\n\t\t\t\tconst value = xU.reduce(\n\t\t\t\t\tkeys,\n\t\t\t\t\t(_value, prop) => {\n\t\t\t\t\t\tconst item = this.formData[prop];\n\t\t\t\t\t\tif (xU.isInput(item.key)) {\n\t\t\t\t\t\t\t_value.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn _value;\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tthis.$emit(\"update:items\", value);\n\t\t\t}\n\t\t\tthis.isLoading = false;\n\t\t}, 1000),\n\t\tisFormDataOk() {\n\t\t\tconst res = xU.map(this.formData, ({ key }, prop) => {\n\t\t\t\tif (\n\t\t\t\t\txU.some(this.formData, ({ key: _key }, _index) => {\n\t\t\t\t\t\tif (_index == prop) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn _key === key;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t) {\n\t\t\t\t\tthis.privateItems[prop].keyConfigs.itemTips = {\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tmsg: `${key} 与已有标识重复`\n\t\t\t\t\t};\n\t\t\t\t\treturn FormRules.FAIL;\n\t\t\t\t} else {\n\t\t\t\t\tif (this.fnCheck) {\n\t\t\t\t\t\tconst isFail = this.fnCheck(this.privateItems[prop]);\n\t\t\t\t\t\tif (isFail == FormRules.FAIL) {\n\t\t\t\t\t\t\treturn FormRules.FAIL;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.privateItems[prop].keyConfigs.itemTips = {\n\t\t\t\t\t\ttype: \"\",\n\t\t\t\t\t\tmsg: \"\"\n\t\t\t\t\t};\n\t\t\t\t\treturn FormRules.SUCCESS;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn !xU.some(res, i => i === FormRules.FAIL);\n\t\t},\n\t\tdeleteItem(index) {\n\t\t\tconst keys = Object.keys(this.privateItems);\n\t\t\tif (keys.length === 1) {\n\t\t\t\tconst prop = keys[0];\n\t\t\t\tthis.privateItems[prop].keyConfigs.value = \"\";\n\t\t\t\tthis.privateItems[prop].valueConfigs.value = \"\";\n\t\t\t} else {\n\t\t\t\tdelete this.privateItems[index];\n\t\t\t}\n\t\t},\n\t\taddItem() {\n\t\t\tconst keys = Object.keys(this.privateItems).map(Number).sort(orderAsc);\n\t\t\tconst nextIndex = Number(xU.last(keys)) + 1;\n\t\t\tthis.privateItems[nextIndex] = this.genItem({ index: nextIndex });\n\t\t}\n\t},\n\trender() {\n\t\tconst vm = this;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"ml10 mr10\">{this.vDomItems}</div>\n\t\t\t\t<xIcon\n\t\t\t\t\tv-loading={vm.isLoading}\n\t\t\t\t\ticon=\"add\"\n\t\t\t\t\tstyle=\"color:#1890ff;\"\n\t\t\t\t\tonClick={this.addItem}\n\t\t\t\t\tclass=\"pointer mt10 ml10 mb10\"\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import {\n\tAllWasWell,\n\tdefItem,\n\tpickValueFrom,\n\tUI,\n\tvalidateForm,\n\txU\n} from \"@ventose/ui\";\nimport { Methods_App, State_App } from \"src/state/State_App\";\nimport { defineComponent } from \"vue\";\nimport { FormRules } from \"../../../utils/common.FormRules\";\nimport { Form } from \"ant-design-vue\";\nimport { API } from \"src/api\";\nimport { orderAsc } from \"src/components/InputKeyValue\";\n\nfunction genTag(name, desc, index) {\n\treturn {\n\t\tnameConfigs: defItem.item({\n\t\t\tprop: \"name\" + index,\n\t\t\tplaceholder: \"tag名称\",\n\t\t\tvalue: name\n\t\t}),\n\t\tdescConfigs: defItem.item({\n\t\t\tprop: \"desc\" + index,\n\t\t\tplaceholder: \"tag描述信息\",\n\t\t\tvalue: desc\n\t\t})\n\t};\n}\n\nexport const DialogUpsertTags = defineComponent({\n\tprops: {\n\t\t/* Dialog 默认传入参数 */\n\t\tpropDialogOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn { __elId: false };\n\t\t\t}\n\t\t}\n\t},\n\tsetup() {\n\t\treturn { State_App };\n\t},\n\tdata() {\n\t\treturn { privateTags: {} };\n\t},\n\twatch: {\n\t\tformData() {\n\t\t\tthis.checkFormDataDebounce();\n\t\t},\n\t\t\"State_App.currProject.tag\": {\n\t\t\timmediate: true,\n\t\t\thandler(tags) {\n\t\t\t\ttags = xU.cloneDeep(tags);\n\t\t\t\tif (xU.isArrayFill(tags)) {\n\t\t\t\t\tlet index = 0;\n\t\t\t\t\tthis.privateTags = xU.reduce(\n\t\t\t\t\t\ttags,\n\t\t\t\t\t\t(tags, tag) => {\n\t\t\t\t\t\t\ttags[index] = genTag(tag.name, tag.desc, index);\n\t\t\t\t\t\t\t++index;\n\t\t\t\t\t\t\treturn tags;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.privateTags = { 0: genTag(\"\", \"\", 0) };\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tpropProjectId() {\n\t\t\tif (this.State_App.currProject._id) {\n\t\t\t\treturn this.State_App.currProject._id;\n\t\t\t} else {\n\t\t\t\talert(\"miss projectId\");\n\t\t\t}\n\t\t},\n\t\tformData() {\n\t\t\tconst formData = xU.reduce(\n\t\t\t\tthis.privateTags,\n\t\t\t\t(formData, privateTag, index) => {\n\t\t\t\t\tformData[index] = {\n\t\t\t\t\t\tname: privateTag.nameConfigs.value,\n\t\t\t\t\t\tdesc: privateTag.descConfigs.value\n\t\t\t\t\t};\n\t\t\t\t\tconsole.log(formData, privateTag, index);\n\t\t\t\t\treturn formData;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t\treturn formData;\n\t\t}\n\t},\n\tmethods: {\n\t\tcheckFormDataDebounce: xU.debounce(function () {\n\t\t\tthis.isFormDataOk();\n\t\t}, 1000),\n\t\tisFormDataOk() {\n\t\t\tconst res = xU.map(this.formData, ({ name }, index) => {\n\t\t\t\tif (\n\t\t\t\t\txU.some(this.formData, ({ name: _name }, _index) => {\n\t\t\t\t\t\tif (_index == index) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn _name === name;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t) {\n\t\t\t\t\tthis.privateTags[index].nameConfigs.itemTips = {\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tmsg: `${name} 与已有标识重复`\n\t\t\t\t\t};\n\t\t\t\t\treturn FormRules.FAIL;\n\t\t\t\t} else {\n\t\t\t\t\tthis.privateTags[index].nameConfigs.itemTips = {\n\t\t\t\t\t\ttype: \"\",\n\t\t\t\t\t\tmsg: \"\"\n\t\t\t\t\t};\n\t\t\t\t\treturn FormRules.SUCCESS;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn !xU.some(res, i => i === FormRules.FAIL);\n\t\t},\n\t\tdeleteTag(index) {\n\t\t\tconst keys = Object.keys(this.privateTags);\n\t\t\tif (keys.length === 1) {\n\t\t\t\tthis.privateTags = { 0: genTag(\"\", \"\", 0) };\n\t\t\t} else {\n\t\t\t\tdelete this.privateTags[index];\n\t\t\t}\n\t\t},\n\t\taddTag() {\n\t\t\tconst keys = Object.keys(this.privateTags).map(Number).sort(orderAsc);\n\t\t\tconst nextIndex = xU.last(keys) + 1;\n\t\t\tthis.privateTags[nextIndex] = genTag(\"\", \"\", nextIndex);\n\t\t},\n\t\tasync onOk() {\n\t\t\tif (this.isFormDataOk()) {\n\t\t\t\tconst data = {\n\t\t\t\t\tid: this.propProjectId,\n\t\t\t\t\ttag: xU.map(this.formData, item => item)\n\t\t\t\t};\n\t\t\t\tawait API.project.updateTags(data);\n\t\t\t\tawait Methods_App.setCurrProject(this.propProjectId, {\n\t\t\t\t\tisEnforce: true\n\t\t\t\t});\n\t\t\t\tUI.message.success(\"Tag修改成功\");\n\t\t\t\tthis.propDialogOptions.closeDialog();\n\t\t\t}\n\t\t}\n\t},\n\trender() {\n\t\tconst vm = this;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"flex1\" style=\"max-height:500px;overflow:auto;\">\n\t\t\t\t\t{xU.map(this.privateTags, (data, index) => {\n\t\t\t\t\t\tconst { descConfigs, nameConfigs } = data || {};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div class=\"flex baseline mt10 margin10 \" key={index}>\n\t\t\t\t\t\t\t\t<xItem configs={nameConfigs} />\n\t\t\t\t\t\t\t\t<xGap l=\"10\" />\n\t\t\t\t\t\t\t\t<span class=\"flex middle\">\n\t\t\t\t\t\t\t\t\t<xItem configs={descConfigs} />\n\t\t\t\t\t\t\t\t\t<xGap l=\"10\" />\n\t\t\t\t\t\t\t\t\t<xButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.deleteTag(index)}\n\t\t\t\t\t\t\t\t\t\tclass=\"flex middle\">\n\t\t\t\t\t\t\t\t\t\t<xIcon icon=\"delete\" />\n\t\t\t\t\t\t\t\t\t</xButton>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<xDialogFooter>\n\t\t\t\t\t<xButton onClick={this.addTag} class=\"flex middle\">\n\t\t\t\t\t\t<xIcon icon=\"add\" /> 添加新的Tag\n\t\t\t\t\t</xButton>\n\t\t\t\t\t<xGap f=\"1\" />\n\t\t\t\t\t<xButton\n\t\t\t\t\t\tconfigs={{\n\t\t\t\t\t\t\tpreset: \"cancel\",\n\t\t\t\t\t\t\tonClick: this.propDialogOptions.closeDialog\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<xButton configs={{ preset: \"save\", onClick: this.onOk }} />\n\t\t\t\t</xDialogFooter>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import {\n\tAllWasWell,\n\tdefItem,\n\tpickValueFrom,\n\tsetValueTo,\n\tUI,\n\tvalidateForm,\n\txU\n} from \"@ventose/ui\";\nimport { Methods_App, State_App } from \"src/state/State_App\";\nimport { defineComponent } from \"vue\";\nimport { FormRules } from \"../../../utils/common.FormRules\";\nimport { API } from \"src/api\";\nimport { ITEM_OPTIONS } from \"./../../../utils/common.options\";\nimport {\n\tInputKeyValue,\n\tmakeKeyValueObj,\n\tmakeNameValueObj\n} from \"./../../../components/InputKeyValue\";\nimport { diff } from \"jsondiffpatch\";\n\nexport const DialogUpsertProxyEnv = defineComponent({\n\tprops: {\n\t\t/* Dialog 默认传入参数 */\n\t\tpropDialogOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn { __elId: false };\n\t\t\t}\n\t\t}\n\t},\n\tsetup() {\n\t\treturn { State_App };\n\t},\n\tdata() {\n\t\tconst vm = this;\n\t\treturn {\n\t\t\tisLoading: true,\n\t\t\tprivateEnv: {},\n\t\t\tcurrentSelected: \"\",\n\t\t\tconfigsForm: {\n\t\t\t\t...defItem({ label: \"环境名称\", prop: \"name\" }),\n\t\t\t\t...defItem({\n\t\t\t\t\tlabel: \"环境域名\",\n\t\t\t\t\tprop: \"domain\",\n\t\t\t\t\tslots: {\n\t\t\t\t\t\taddonBefore: () => <xItem configs={vm.configsForm.protocol} />\n\t\t\t\t\t},\n\t\t\t\t\trules: [\n\t\t\t\t\t\tFormRules.custom({\n\t\t\t\t\t\t\tvalidator(value, { rule }) {\n\t\t\t\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\t\t\t\trule.msg = \"请输入环境域名!\";\n\t\t\t\t\t\t\t\t\treturn FormRules.FAIL;\n\t\t\t\t\t\t\t\t} else if (/\\s/.test(value)) {\n\t\t\t\t\t\t\t\t\trule.msg = \"环境域名不允许出现空格!\";\n\t\t\t\t\t\t\t\t\treturn FormRules.FAIL;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trule.msg = \"\";\n\t\t\t\t\t\t\t\t\treturn FormRules.SUCCESS;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tprop: \"protocol\",\n\t\t\t\t\titemType: \"Select\",\n\t\t\t\t\toptions: ITEM_OPTIONS.httpProtocol,\n\t\t\t\t\tstyle: \"width:100px;\"\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: [],\n\t\t\t\t\tlabel: \"Header\",\n\t\t\t\t\tprop: \"header\",\n\t\t\t\t\titemType: KeyValuePanel,\n\t\t\t\t\tfnCheck(configs) {\n\t\t\t\t\t\tif (configs.keyConfigs.value === \"Cookie\") {\n\t\t\t\t\t\t\tconfigs.keyConfigs.itemTips = {\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmsg: `key 不能为 Cookie`\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treturn FormRules.FAIL;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn FormRules.SUCCESS;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgenItem(args) {\n\t\t\t\t\t\tconst { index, key, value } = args;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t_id: index,\n\t\t\t\t\t\t\tkeyConfigs: defItem.item({\n\t\t\t\t\t\t\t\tprop: \"key\" + index,\n\t\t\t\t\t\t\t\tplaceholder: \"Header名称\",\n\t\t\t\t\t\t\t\tvalue: key || \"\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tvalueConfigs: defItem.item({\n\t\t\t\t\t\t\t\tprop: \"value\" + index,\n\t\t\t\t\t\t\t\tplaceholder: \"Header值\",\n\t\t\t\t\t\t\t\tvalue: value || \"\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: [],\n\t\t\t\t\tlabel: \"Cookie\",\n\t\t\t\t\tprop: \"cookie\",\n\t\t\t\t\titemType: KeyValuePanel,\n\t\t\t\t\tgenItem(args) {\n\t\t\t\t\t\tconst { index, key, value } = args;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t_id: index,\n\t\t\t\t\t\t\tkeyConfigs: defItem.item({\n\t\t\t\t\t\t\t\tprop: \"key\" + index,\n\t\t\t\t\t\t\t\tplaceholder: \"Cookie名称\",\n\t\t\t\t\t\t\t\tvalue: key || \"\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tvalueConfigs: defItem.item({\n\t\t\t\t\t\t\t\tprop: \"value\" + index,\n\t\t\t\t\t\t\t\tplaceholder: \"Cookie值\",\n\t\t\t\t\t\t\t\tvalue: value || \"\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: [],\n\t\t\t\t\tlabel: \"global\",\n\t\t\t\t\tprop: \"global\",\n\t\t\t\t\titemType: KeyValuePanel,\n\t\t\t\t\tgenItem(args) {\n\t\t\t\t\t\tconst { index, key, value } = args;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t_id: index,\n\t\t\t\t\t\t\tkeyConfigs: defItem.item({\n\t\t\t\t\t\t\t\tprop: \"key\" + index,\n\t\t\t\t\t\t\t\tplaceholder: \"global名称\",\n\t\t\t\t\t\t\t\tvalue: key || \"\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tvalueConfigs: defItem.item({\n\t\t\t\t\t\t\t\tprop: \"value\" + index,\n\t\t\t\t\t\t\t\tplaceholder: \"global值\",\n\t\t\t\t\t\t\t\tvalue: value || \"\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t},\n\twatch: {\n\t\t\"State_App.currProject.env\": {\n\t\t\timmediate: true,\n\t\t\thandler(env) {\n\t\t\t\tif (!env) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.privateEnv = xU.cloneDeep(env);\n\n\t\t\t\tlet currentSelected = false;\n\t\t\t\t/* 已经打开，非初始状态 */\n\t\t\t\tif (this.raw$EnvId) {\n\t\t\t\t\tcurrentSelected = xU.find(this.privateEnv, { _id: this.raw$EnvId });\n\t\t\t\t\tthis.raw$EnvId = false;\n\t\t\t\t}\n\t\t\t\tif (!currentSelected) {\n\t\t\t\t\tcurrentSelected = xU.first(this.privateEnv);\n\t\t\t\t}\n\t\t\t\tif (currentSelected) {\n\t\t\t\t\tthis.switchEvn(currentSelected, { isEnforce: true });\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcurrentSelected: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tthis.setFormValues();\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tpropProjectId() {\n\t\t\tif (this.State_App.currProject._id) {\n\t\t\t\treturn this.State_App.currProject._id;\n\t\t\t} else {\n\t\t\t\talert(\"miss projectId\");\n\t\t\t}\n\t\t},\n\t\tvDomLeftSide() {\n\t\t\treturn (\n\t\t\t\t<div class=\"env-list flex vertical flex1 width100 overflow-auto height100 \">\n\t\t\t\t\t{xU.map(this.privateEnv, i => {\n\t\t\t\t\t\tconst className =\n\t\t\t\t\t\t\ti._id === this.currentSelected._id\n\t\t\t\t\t\t\t\t? \"delete-env-btn active\"\n\t\t\t\t\t\t\t\t: \"delete-env-btn\";\n\n\t\t\t\t\t\tconst fnDelete = (() => {\n\t\t\t\t\t\t\tif (/^new_env/.test(i._id)) {\n\t\t\t\t\t\t\t\treturn async () => {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tawait UI.dialog.confirm({\n\t\t\t\t\t\t\t\t\t\t\tcontent: `删除环境变量${i.name}?`\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tconst envIndex = xU.findIndex(this.privateEnv, {\n\t\t\t\t\t\t\t\t\t\t\t_id: i._id\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthis.privateEnv.splice(envIndex, 1);\n\t\t\t\t\t\t\t\t\t} catch (error) {}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn async () => this.deleteEnv(i);\n\t\t\t\t\t\t})();\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<aButton\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tonClick={() => this.switchEvn(i)}\n\t\t\t\t\t\t\t\tclass={className}>\n\t\t\t\t\t\t\t\t<div class=\"flex middle\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"flex1 ellipsis\"\n\t\t\t\t\t\t\t\t\t\tstyle=\"text-align:left;\"\n\t\t\t\t\t\t\t\t\t\tv-uiPopover={{ onlyEllipsis: true, placement: \"left\" }}>\n\t\t\t\t\t\t\t\t\t\t{i.name}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<xIcon\n\t\t\t\t\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\t\t\t\t\tclass=\"delete-env-icon\"\n\t\t\t\t\t\t\t\t\t\tonClick={fnDelete}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</aButton>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\txDomSaveButton() {\n\t\t\treturn (\n\t\t\t\t<xButton\n\t\t\t\t\tconfigs={{ preset: \"save\", onClick: this.onOk }}\n\t\t\t\t\tclass=\"ml10\"\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\tvdomEnvconfigs() {\n\t\t\tconst vDomContent = (() => {\n\t\t\t\tif (this.isLoading) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<aSpin\n\t\t\t\t\t\t\tspinning={true}\n\t\t\t\t\t\t\tclass=\"ant-spin ant-spin-spinning flex middle center height100 width100\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<xForm\n\t\t\t\t\t\tlabelStyle={{\n\t\t\t\t\t\t\t\"text-align\": \"left\",\n\t\t\t\t\t\t\twidth: \"80px\",\n\t\t\t\t\t\t\tpadding: \"0 8px\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={this.configsForm.name}>\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\tafterControll: this.xDomSaveButton\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</xItem>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={this.configsForm.domain} />\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={this.configsForm.global} />\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={this.configsForm.header} />\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={this.configsForm.cookie} />\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t</xForm>\n\t\t\t\t);\n\t\t\t})();\n\t\t\treturn (\n\t\t\t\t<div class=\"env-configs flex1 padding10 ant-card ant-card-bordered overflow-auto\">\n\t\t\t\t\t{vDomContent}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t},\n\tmethods: {\n\t\tasync switchEvn(envItem, options: any = {}) {\n\t\t\tconst continu = () => {\n\t\t\t\tthis.currentSelected = envItem;\n\t\t\t\t/* 数据动态更新后，能通过raw$EnvId找回来 */\n\t\t\t\tthis.raw$EnvId = envItem._id;\n\t\t\t};\n\t\t\tconst isEnforce = options.isEnforce || false;\n\n\t\t\tif (isEnforce) {\n\t\t\t\tcontinu();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rightData = pickValueFrom(this.configsForm);\n\t\t\tvar delta = diff(this.leftData, rightData);\n\t\t\tconst keys = Object.keys(delta || {});\n\t\t\tif (keys.length > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tawait UI.dialog.confirm({\n\t\t\t\t\t\tcontent: \"有未保存的修改，切换之后将被放弃\"\n\t\t\t\t\t});\n\t\t\t\t\tcontinu();\n\t\t\t\t} catch (e) {}\n\t\t\t} else {\n\t\t\t\tcontinu();\n\t\t\t}\n\t\t},\n\t\tsetFormValues() {\n\t\t\tconst item = xU.cloneDeep(this.currentSelected || []);\n\t\t\titem.name = item.name || \"\";\n\n\t\t\titem.protocol = (() =>\n\t\t\t\titem.domain ? item.domain.split(\"//\")[0] + \"//\" : \"http://\")();\n\n\t\t\titem.domain = (() => (item.domain ? item.domain.split(\"//\")[1] : \"\"))();\n\t\t\t/* cookies */\n\t\t\tconst cookieIndex = xU.findIndex(item.header, { name: \"Cookie\" });\n\t\t\tif (~cookieIndex) {\n\t\t\t\tconst cookieString = item.header.splice(cookieIndex, 1)[0].value;\n\t\t\t\tif (cookieString.length > 2) {\n\t\t\t\t\titem.cookie = cookieString.split(\";\").map(i => {\n\t\t\t\t\t\tif (i) {\n\t\t\t\t\t\t\tconst [key, value] = i.split(\"=\");\n\t\t\t\t\t\t\treturn { key, value };\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titem.cookie = [];\n\t\t\t}\n\t\t\titem.header = xU.map(item.header || [], makeKeyValueObj);\n\t\t\titem.global = xU.map(item.global || [], makeKeyValueObj);\n\t\t\tsetValueTo(this.configsForm, item);\n\t\t\t/* 切换env的时候先对比是否已经修改东西 */\n\t\t\tthis.leftData = pickValueFrom(this.configsForm);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isLoading = false;\n\t\t\t}, 64);\n\t\t},\n\t\tasync onOk() {\n\t\t\tconst validateResults = await validateForm(this.configsForm);\n\t\t\tif (!AllWasWell(validateResults)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet { name, domain, protocol, header, cookie, global } = pickValueFrom(\n\t\t\t\tthis.configsForm\n\t\t\t);\n\t\t\theader = xU.map(header, makeNameValueObj);\n\t\t\tcookie = xU.map(cookie, makeNameValueObj);\n\t\t\tglobal = xU.map(global, makeNameValueObj);\n\n\t\t\tif (cookie.length > 0) {\n\t\t\t\theader.push({\n\t\t\t\t\tname: \"Cookie\",\n\t\t\t\t\tvalue: cookie.map(item => item.name + \"=\" + item.value).join(\";\")\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst env = {\n\t\t\t\t_id: this.currentSelected._id,\n\t\t\t\tname,\n\t\t\t\tdomain: protocol + domain,\n\t\t\t\theader: header,\n\t\t\t\tglobal\n\t\t\t};\n\t\t\tconst envIndex = xU.findIndex(this.privateEnv, {\n\t\t\t\t_id: env._id\n\t\t\t});\n\t\t\tif (/^new_env/.test(this.currentSelected._id)) {\n\t\t\t\tdelete env._id;\n\t\t\t}\n\t\t\tconst envArray = xU.cloneDeep(this.privateEnv);\n\t\t\tif (~envIndex) {\n\t\t\t\tenvArray.splice(envIndex, 1, env);\n\t\t\t} else {\n\t\t\t\tenvArray.push(env);\n\t\t\t}\n\t\t\tawait API.project.updateProxyEnv({\n\t\t\t\tid: this.propProjectId,\n\t\t\t\tenv: envArray\n\t\t\t});\n\t\t\tUI.message.success(this.$t(\"环境设置成功\").label);\n\t\t\tMethods_App.setCurrProject(this.propProjectId, { isEnforce: true });\n\t\t},\n\t\tasync addEnv() {\n\t\t\tconst newItem = {\n\t\t\t\theader: [],\n\t\t\t\tglobal: [],\n\t\t\t\t_id: xU.genId(\"new_env\"),\n\t\t\t\tname: xU.genId(\"env_name\"),\n\t\t\t\tdomain: \"http://\"\n\t\t\t};\n\t\t\t/* 更新之后Id是全新的，所以默认第一个 */\n\t\t\tthis.privateEnv.unshift(newItem);\n\t\t\tthis.switchEvn(newItem, { isEnforce: true });\n\t\t},\n\t\tasync deleteEnv(item) {\n\t\t\tconst id = item._id;\n\t\t\ttry {\n\t\t\t\tawait UI.dialog.confirm({ content: `删除环境变量${item.name}?` });\n\t\t\t\tconst envIndex = xU.findIndex(this.privateEnv, {\n\t\t\t\t\t_id: id\n\t\t\t\t});\n\t\t\t\tconst envArray = xU.cloneDeep(this.privateEnv);\n\t\t\t\tenvArray.splice(envIndex, 1);\n\t\t\t\tawait API.project.updateProxyEnv({\n\t\t\t\t\tid: this.propProjectId,\n\t\t\t\t\tenv: envArray\n\t\t\t\t});\n\t\t\t\tUI.message.success(this.$t(\"环境设置成功\").label);\n\t\t\t\tMethods_App.setCurrProject(this.propProjectId, { isEnforce: true });\n\t\t\t} catch (error) {}\n\t\t}\n\t},\n\trender() {\n\t\tconst vm = this;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"DialogUpsertProxyEnv flex1 flex horizon padding10\"\n\t\t\t\t\tstyle=\"overflow:auto;\">\n\t\t\t\t\t<div class=\"env-list-wrapper flex vertical\">\n\t\t\t\t\t\t<div class=\"flex center mb10\">\n\t\t\t\t\t\t\t<xIcon\n\t\t\t\t\t\t\t\ticon=\"add\"\n\t\t\t\t\t\t\t\tonClick={this.addEnv}\n\t\t\t\t\t\t\t\tclass=\"flex middle color-primary pointer\"\n\t\t\t\t\t\t\t\tv-uiPopover={{ content: \"添加新环境\", delay: 1000 }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.vDomLeftSide}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"env-configs-wrapper flex1 flex\">\n\t\t\t\t\t\t{this.vdomEnvconfigs}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n});\n\nconst KeyValuePanel = args => {\n\targs.property.value = args.property.value || [];\n\targs.property.fnCheck = args.property.fnCheck || false;\n\targs.fnUpdate = val => {\n\t\targs.listeners[\"onUpdate:value\"](val);\n\t};\n\treturn (\n\t\t<div class=\"ant-card ant-card-bordered\">\n\t\t\t<InputKeyValue\n\t\t\t\titems={args.property.value}\n\t\t\t\tonUpdate:items={args.fnUpdate}\n\t\t\t\tgenItem={args.property.genItem}\n\t\t\t\tfnCheck={args.property.fnCheck}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import {\n\tcompileVNode,\n\tdefCol,\n\tdefItem,\n\tdefXVirTableConfigs,\n\txU\n} from \"@ventose/ui\";\nimport { State_Project } from \"src/containers/Project/Interface/State_Project\";\nimport { Cpt_url } from \"src/router/router\";\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"src/utils/common.options\";\nimport { defineComponent } from \"vue\";\n\nfunction newFormData() {\n\treturn {\n\t\t_id: xU.genId(\"body_params\"),\n\t\tname: \"\",\n\t\ttype: \"text\",\n\t\trequired: \"1\",\n\t\tdesc: \"\",\n\t\texample: \"\"\n\t};\n}\n\nconst STRATEGY_CELL_ITEM_CONFIGS = {\n\tname: {},\n\ttype: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.interfaceBodyFormType\n\t},\n\trequired: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.required\n\t},\n\texample: {},\n\tdesc: {}\n};\nconst BODY_PARAM_PROP_ARRAY = Object.keys(STRATEGY_CELL_ITEM_CONFIGS);\n\n/* virTable 的 renderCell 缓存标识 ,关键是唯一，具体是啥无所谓，所以这里不用过分考虑顺序*/\nconst [ID_NAME, ID_TYPE, ID_REQUIRED, ID_RECORD, ID_DESC, ID_OPERATIONS] = [\n\t...BODY_PARAM_PROP_ARRAY,\n\t\"ID_OPERATIONS\"\n].map(xU.genId);\n\nexport const BodyParamsForm = defineComponent({\n\tprops: [\"params\"],\n\twatch: {\n\t\t\"params.req_body_form\": {\n\t\t\timmediate: true,\n\t\t\thandler(formDataArray) {\n\t\t\t\tthis.resetDataForm(formDataArray);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\taddRow() {\n\t\t\tthis.syncFormDataFromConfigs();\n\t\t\tthis.configs_table.dataSource.unshift(newFormData());\n\t\t},\n\t\tdeleteRow(_id) {\n\t\t\tconst index = xU.findIndex(this.configs_table.dataSource, { _id });\n\t\t\tif (~index) {\n\t\t\t\tthis.syncFormDataFromConfigs();\n\t\t\t\tthis.configs_table.dataSource.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\tsyncFormDataFromConfigs() {\n\t\t\txU.each(this.configs_table.dataSource, rowData => {\n\t\t\t\txU.each(BODY_PARAM_PROP_ARRAY, prop => {\n\t\t\t\t\trowData[prop] = rowData[`configs_${prop}`].value;\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tresetDataForm(newFormDataArray) {\n\t\t\tthis.configs_table.dataSource = newFormDataArray;\n\t\t}\n\t},\n\tdata(vm) {\n\t\treturn {\n\t\t\tconfigs_table: defXVirTableConfigs({\n\t\t\t\trowHeight: 36,\n\t\t\t\tdataSource: [],\n\t\t\t\tcustomClass: tableId =>\n\t\t\t\t\t[\n\t\t\t\t\t\t`#${tableId} .input-width100{width:100%;}`,\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=th][data-prop=operations]{justify-content:center;}`,\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=td][data-prop=operations]{justify-content:center;color:red;}`\n\t\t\t\t\t].join(\"\\n\"),\n\t\t\t\tdataSourceFilter(dataSource) {\n\t\t\t\t\treturn xU.map(dataSource, rowRecord => {\n\t\t\t\t\t\txU.each(STRATEGY_CELL_ITEM_CONFIGS, (options, prop) => {\n\t\t\t\t\t\t\trowRecord[`configs_${prop}`] = defItem.item(\n\t\t\t\t\t\t\t\txU.merge(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: rowRecord[prop],\n\t\t\t\t\t\t\t\t\t\titemWrapperClass: \"input-width100\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\toptions\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn rowRecord;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcolumns: {\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"名称\").label,\n\t\t\t\t\t\tprop: \"name\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_name\" />`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trecord\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t`${ID_NAME}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"类型\").label,\n\t\t\t\t\t\tprop: \"type\",\n\t\t\t\t\t\twidth: \"100px\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_type\" />`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trecord\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t`${ID_TYPE}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"必需\").label,\n\t\t\t\t\t\tprop: \"required\",\n\t\t\t\t\t\twidth: \"110px\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_required\" />`,\n\t\t\t\t\t\t\t\t{ record },\n\t\t\t\t\t\t\t\t`${ID_REQUIRED}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"示例\").label,\n\t\t\t\t\t\tprop: \"example\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_example\" />`,\n\t\t\t\t\t\t\t\t{ record },\n\t\t\t\t\t\t\t\t`${ID_RECORD}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"备注\").label,\n\t\t\t\t\t\tprop: \"desc\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_desc\" />`,\n\t\t\t\t\t\t\t\t{ record },\n\t\t\t\t\t\t\t\t`${ID_DESC}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"操作\").label,\n\t\t\t\t\t\tprop: \"operations\",\n\t\t\t\t\t\twidth: \"40px\",\n\t\t\t\t\t\trenderHeader: () => null,\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xIcon icon=\"delete\" class=\"pointer\" @Click=\"deleteRow(record._id)\" />`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trecord,\n\t\t\t\t\t\t\t\t\tdeleteRow: vm.deleteRow\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t`${ID_OPERATIONS}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<aButton class=\"width100 mb10\" type=\"dashed\" onClick={this.addRow}>\n\t\t\t\t\t<xIcon icon=\"add\" />\n\t\t\t\t</aButton>\n\t\t\t\t<div style={{ height: \"300px\" }}>\n\t\t\t\t\t<xVirTable configs={this.configs_table} class=\"flex1 width100 \" />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import {\n\tcompileVNode,\n\tdefCol,\n\tdefItem,\n\tdefXVirTableConfigs,\n\txU\n} from \"@ventose/ui\";\nimport { State_Project } from \"src/containers/Project/Interface/State_Project\";\nimport { Cpt_url } from \"src/router/router\";\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"src/utils/common.options\";\nimport { defineComponent } from \"vue\";\nimport { MonacoEditor } from \"../MonacoEditor/MonacoEditor\";\n\nfunction newFormData() {\n\treturn {\n\t\t_id: xU.genId(\"body_params\"),\n\t\tname: \"\",\n\t\ttype: \"text\",\n\t\trequired: \"1\",\n\t\tdesc: \"\",\n\t\texample: \"\"\n\t};\n}\n\nconst STRATEGY_CELL_ITEM_CONFIGS = {\n\tname: {},\n\ttype: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.interfaceBodyFormType\n\t},\n\trequired: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.required\n\t},\n\texample: {},\n\tdesc: {}\n};\nconst BODY_PARAM_PROP_ARRAY = Object.keys(STRATEGY_CELL_ITEM_CONFIGS);\n\n/* virTable 的 renderCell 缓存标识 ,关键是唯一，具体是啥无所谓，所以这里不用过分考虑顺序*/\nconst [ID_NAME, ID_TYPE, ID_REQUIRED, ID_RECORD, ID_DESC, ID_OPERATIONS] = [\n\t...BODY_PARAM_PROP_ARRAY,\n\t\"ID_OPERATIONS\"\n].map(xU.genId);\n\nexport const BodyParamsRaw = defineComponent({\n\tprops: [\"params\"],\n\twatch: {\n\t\t\"params.req_body_other\": {\n\t\t\timmediate: true,\n\t\t\thandler(bodyText) {\n\t\t\t\tthis.resetDataForm(bodyText);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tresetDataForm(bodyText) {\n\t\t\tthis.bodyText = bodyText;\n\t\t}\n\t},\n\tdata(vm) {\n\t\treturn {\n\t\t\tbodyText: \"\"\n\t\t};\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div style={{ height: \"300px\" }}>\n\t\t\t\t\t<MonacoEditor v-model:code={this.bodyText} language=\"json\" />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defineComponent } from \"vue\";\nimport {\n\txU,\n\tdefItem,\n\tState_UI,\n\tFormRules,\n\tvalidateForm,\n\tAllWasWell,\n\tpickValueFrom\n} from \"@ventose/ui\";\nimport { MonacoEditor } from \"../MonacoEditor/MonacoEditor\";\n\nconst { $t } = State_UI;\n\nexport const DialogBulkValues = defineComponent({\n\tprops: {\n\t\t/* Dialog 默认传入参数 */\n\t\tpropDialogOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn { __elId: false };\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tformItems: {\n\t\t\t\t...defItem({\n\t\t\t\t\tisTextarea: true,\n\t\t\t\t\tprop: \"bulkValue\",\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tplaceholder: \"key:value\\nkey:value\\nkey:value\",\n\t\t\t\t\trules: [FormRules.required()],\n\t\t\t\t\tstyle: \"width:500px\"\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.formItems.bulkValue.value = xU\n\t\t\t.map(this.propDialogOptions.formValues, item => {\n\t\t\t\tif (item.configs_name) {\n\t\t\t\t\treturn `${item.configs_name.value || \"\"}:${\n\t\t\t\t\t\titem.configs_example.value || \"\"\n\t\t\t\t\t}`;\n\t\t\t\t}\n\t\t\t\treturn `${item.name || \"\"}:${item.example || \"\"}`;\n\t\t\t})\n\t\t\t.join(\"\\n\");\n\t},\n\tcomputed: {\n\t\tonOk() {\n\t\t\tif (!xU.isFunction(this.propDialogOptions?.onOk)) {\n\t\t\t\talert(\"miss onOk function\");\n\t\t\t\treturn xU.doNothing;\n\t\t\t}\n\t\t\treturn this.propDialogOptions?.onOk;\n\t\t},\n\t\tconfigsFooter() {\n\t\t\treturn {\n\t\t\t\tonCancel: this.propDialogOptions.closeDialog,\n\t\t\t\tonOk: async () => {\n\t\t\t\t\tconst validateResults = await validateForm(this.formItems);\n\t\t\t\t\tif (AllWasWell(validateResults)) {\n\t\t\t\t\t\t/* @ts-ignore */\n\t\t\t\t\t\tconst { bulkValue } = pickValueFrom(this.formItems);\n\t\t\t\t\t\tconst bulkValueArray = bulkValue.split(\"\\n\");\n\t\t\t\t\t\tconst formArray = xU.map(bulkValueArray, str => str.split(\":\"));\n\t\t\t\t\t\tthis.onOk(formArray);\n\t\t\t\t\t\tthis.propDialogOptions.closeDialog();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tvDomFormItems() {\n\t\t\treturn xU.map(this.formItems, (item, prop) => {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={item} />\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"flex flex1 vertical padding10\" style=\"min-height:240px\">\n\t\t\t\t\t<aAlert\n\t\t\t\t\t\tmessage={`型如key:value一行一个 换行即可，不要使用逗号、分号分隔`}\n\t\t\t\t\t/>\n\t\t\t\t\t<MonacoEditor v-model:code={this.formItems.bulkValue.value} />\n\t\t\t\t</div>\n\t\t\t\t<xDialogFooter configs={this.configsFooter} language=\"text\" />\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defItem, UI, xU } from \"@ventose/ui\";\nimport { ITEM_OPTIONS } from \"src/utils/common.options\";\nimport { defineComponent } from \"vue\";\nimport { BodyParamsForm } from \"./BodyParamsForm\";\nimport { BodyParamsJson } from \"./BodyParamsJson\";\nimport { BodyParamsRaw } from \"./BodyParamsRaw\";\nimport { DialogBulkValues } from \"./DialogBulkValues\";\n\nexport const BodyParamsPanel = defineComponent({\n\t/* req_body_type */\n\tprops: [\"params\"],\n\tdata(vm) {\n\t\treturn {\n\t\t\tconfigsBodyType: defItem.item({\n\t\t\t\tprop: \"configsBodyType\",\n\t\t\t\titemType: \"RadioGroup\",\n\t\t\t\toptions: ITEM_OPTIONS.interfaceBodyType\n\t\t\t})\n\t\t};\n\t},\n\tmethods: {\n\t\topenBulkValuesDialog() {\n\t\t\tUI.dialog.component({\n\t\t\t\ttitle: this.$t(\"批量添加参数\").label,\n\t\t\t\tcomponent: DialogBulkValues,\n\t\t\t\tformValues: this.params.req_body_form,\n\t\t\t\tonOk: async req_body_form => {\n\t\t\t\t\tthis.params.req_body_form = req_body_form;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<aCard>\n\t\t\t\t{{\n\t\t\t\t\textra: () => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\txU.find(ITEM_OPTIONS.interfaceBodyType, {\n\t\t\t\t\t\t\t\tvalue: this.params.req_body_type\n\t\t\t\t\t\t\t})?.isForm\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn <a onClick={this.openBulkValuesDialog}>批量添加</a>;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t},\n\t\t\t\t\ttitle: () => {\n\t\t\t\t\t\t/* 类型选择 */\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<xItem\n\t\t\t\t\t\t\t\t\tv-model={this.params.req_body_type}\n\t\t\t\t\t\t\t\t\tconfigs={this.configsBodyType}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tdefault: () => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"form\" ? (\n\t\t\t\t\t\t\t\t\t<BodyParamsForm params={this.params} />\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"json\" ? \"开发中......\" : null}\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"file\" ? \"开发中......\" : null}\n\t\t\t\t\t\t\t\t{this.params.req_body_type == \"raw\" ? (\n\t\t\t\t\t\t\t\t\t<BodyParamsRaw params={this.params} />\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t</aCard>\n\t\t);\n\t}\n});\n","import {\n\tcompileVNode,\n\tdefCol,\n\tdefItem,\n\tdefXVirTableConfigs,\n\tUI,\n\txU\n} from \"@ventose/ui\";\nimport { State_Project } from \"src/containers/Project/Interface/State_Project\";\nimport { Cpt_url } from \"src/router/router\";\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"src/utils/common.options\";\nimport { defineComponent } from \"vue\";\nimport { DialogBulkValues } from \"./DialogBulkValues\";\n\nfunction newFormData() {\n\treturn {\n\t\t_id: xU.genId(\"body_params\"),\n\t\tname: \"\",\n\t\ttype: \"text\",\n\t\trequired: \"1\",\n\t\tdesc: \"\",\n\t\texample: \"\"\n\t};\n}\n\nconst STRATEGY_CELL_ITEM_CONFIGS = {\n\tname: {},\n\ttype: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.interfaceBodyFormType\n\t},\n\trequired: {\n\t\titemType: \"Select\",\n\t\toptions: ITEM_OPTIONS.required\n\t},\n\texample: {},\n\tdesc: {}\n};\nconst BODY_PARAM_PROP_ARRAY = Object.keys(STRATEGY_CELL_ITEM_CONFIGS);\n\n/* virTable 的 renderCell 缓存标识 ,关键是唯一，具体是啥无所谓，所以这里不用过分考虑顺序*/\nconst [ID_NAME, ID_TYPE, ID_REQUIRED, ID_RECORD, ID_DESC, ID_OPERATIONS] = [\n\t...BODY_PARAM_PROP_ARRAY,\n\t\"ID_OPERATIONS\"\n].map(xU.genId);\n\nexport const HeaderParamsForm = defineComponent({\n\tprops: [\"params\"],\n\twatch: {\n\t\t\"params.req_body_form\": {\n\t\t\timmediate: true,\n\t\t\thandler(formDataArray) {\n\t\t\t\tthis.resetDataForm(formDataArray);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\topenBulkValuesDialog() {\n\t\t\tUI.dialog.component({\n\t\t\t\ttitle: this.$t(\"批量添加参数\").label,\n\t\t\t\tcomponent: DialogBulkValues,\n\t\t\t\tformValues: this.params.req_body_form,\n\t\t\t\tonOk: async formArray => {\n\t\t\t\t\tthis.params.req_body_form = xU.map(formArray, ([name, example]) => {\n\t\t\t\t\t\treturn { name, example, required: \"0\", type: \"text\" };\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\taddRow() {\n\t\t\tthis.syncFormDataFromConfigs();\n\t\t\tthis.configs_table.dataSource.unshift(newFormData());\n\t\t},\n\t\tdeleteRow(_id) {\n\t\t\tconst index = xU.findIndex(this.configs_table.dataSource, { _id });\n\t\t\tif (~index) {\n\t\t\t\tthis.syncFormDataFromConfigs();\n\t\t\t\tthis.configs_table.dataSource.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\tsyncFormDataFromConfigs() {\n\t\t\txU.each(this.configs_table.dataSource, rowData => {\n\t\t\t\txU.each(BODY_PARAM_PROP_ARRAY, prop => {\n\t\t\t\t\trowData[prop] = rowData[`configs_${prop}`].value;\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tresetDataForm(newFormDataArray) {\n\t\t\tthis.configs_table.dataSource = newFormDataArray;\n\t\t}\n\t},\n\tdata(vm) {\n\t\treturn {\n\t\t\tconfigs_table: defXVirTableConfigs({\n\t\t\t\trowHeight: 36,\n\t\t\t\tdataSource: [],\n\t\t\t\tcustomClass: tableId =>\n\t\t\t\t\t[\n\t\t\t\t\t\t`#${tableId} .input-width100{width:100%;}`,\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=th][data-prop=operations]{justify-content:center;}`,\n\t\t\t\t\t\t`#${tableId} div[role=tr] div[role=td][data-prop=operations]{justify-content:center;color:red;}`\n\t\t\t\t\t].join(\"\\n\"),\n\t\t\t\tdataSourceFilter(dataSource) {\n\t\t\t\t\treturn xU.map(dataSource, rowRecord => {\n\t\t\t\t\t\txU.each(STRATEGY_CELL_ITEM_CONFIGS, (options, prop) => {\n\t\t\t\t\t\t\trowRecord[`configs_${prop}`] = defItem.item(\n\t\t\t\t\t\t\t\txU.merge(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: rowRecord[prop],\n\t\t\t\t\t\t\t\t\t\titemWrapperClass: \"input-width100\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\toptions\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn rowRecord;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcolumns: {\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"名称\").label,\n\t\t\t\t\t\tprop: \"name\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_name\" />`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trecord\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t`${ID_NAME}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"类型\").label,\n\t\t\t\t\t\tprop: \"type\",\n\t\t\t\t\t\twidth: \"100px\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_type\" />`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trecord\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t`${ID_TYPE}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"示例\").label,\n\t\t\t\t\t\tprop: \"example\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_example\" />`,\n\t\t\t\t\t\t\t\t{ record },\n\t\t\t\t\t\t\t\t`${ID_RECORD}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"备注\").label,\n\t\t\t\t\t\tprop: \"desc\",\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xItem :configs=\"record.configs_desc\" />`,\n\t\t\t\t\t\t\t\t{ record },\n\t\t\t\t\t\t\t\t`${ID_DESC}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\t...defCol({\n\t\t\t\t\t\tlabel: vm.$t(\"操作\").label,\n\t\t\t\t\t\tprop: \"operations\",\n\t\t\t\t\t\twidth: \"40px\",\n\t\t\t\t\t\trenderHeader: () => null,\n\t\t\t\t\t\trenderCell: ({ record }) =>\n\t\t\t\t\t\t\tcompileVNode(\n\t\t\t\t\t\t\t\t`<xIcon icon=\"delete\" class=\"pointer\" @Click=\"deleteRow(record._id)\" />`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trecord,\n\t\t\t\t\t\t\t\t\tdeleteRow: vm.deleteRow\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t`${ID_OPERATIONS}${record._id}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"flex middle\">\n\t\t\t\t\t<aButton class=\"mb10\" onClick={this.addRow}>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t添加一行{\" \"}\n\t\t\t\t\t</aButton>\n\t\t\t\t\t<xGap f=\"1\" />\n\t\t\t\t\t<a class=\"mb10 mr10\" onClick={this.openBulkValuesDialog}>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t批量添加{\" \"}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ height: \"300px\" }}>\n\t\t\t\t\t<xVirTable configs={this.configs_table} class=\"flex1 width100 \" />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n});\n","import { defItem, UI, xU } from \"@ventose/ui\";\nimport { ITEM_OPTIONS } from \"src/utils/common.options\";\nimport { defineComponent } from \"vue\";\nimport { BodyParamsForm } from \"./BodyParamsForm\";\nimport { DialogBulkValues } from \"./DialogBulkValues\";\nimport { HeaderParamsForm } from \"./HeaderParamsForm\";\n\nexport const HeaderParamsPanel = defineComponent({\n\t/* req_body_type */\n\tprops: [\"params\"],\n\tdata(vm) {\n\t\treturn {};\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<aCard>\n\t\t\t\t{{\n\t\t\t\t\tdefault: () => {\n\t\t\t\t\t\treturn <HeaderParamsForm params={this.params} />;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t</aCard>\n\t\t);\n\t}\n});\n","import { xU } from \"@ventose/ui\";\nimport { BODY, GET, HTTP_METHOD, QUERY } from \"src/utils/variable\";\nimport { defineComponent } from \"vue\";\nimport { BodyParamsPanel } from \"./interfaceParams/BodyParamsPanel\";\nimport { HeaderParamsPanel } from \"./interfaceParams/HeaderParamsPanel\";\n\n/* \n1.接收apimethod 默认打开\n*/\nexport const RequestArgsPanel = defineComponent({\n\tprops: [\"params\", \"apiMethod\"],\n\t/* */\n\temits: [\"update:params\"],\n\tdata() {\n\t\treturn {\n\t\t\tcollapseActive: QUERY,\n\t\t\tprivateHttpMethod: GET,\n\t\t\tprivateParams: {}\n\t\t};\n\t},\n\twatch: {\n\t\tparams() {\n\t\t\tthis.privateParams = xU.cloneDeep(this.params);\n\t\t},\n\t\tapiMethod: {\n\t\t\timmediate: true,\n\t\t\thandler(apiMethod) {\n\t\t\t\tthis.privateHttpMethod = apiMethod || GET;\n\t\t\t\tthis.collapseActive = HTTP_METHOD[this.privateHttpMethod].default_tab;\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tbodyCollapsible() {\n\t\t\t/* 与编辑的 接口路径下的apiMethod */\n\t\t\treturn HTTP_METHOD[this.privateHttpMethod].request_body ? \"\" : \"disabled\";\n\t\t}\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<aCollapse v-model:activeKey={this.collapseActive}>\n\t\t\t\t<aCollapsePanel key=\"header\" header=\"header\">\n\t\t\t\t\t<HeaderParamsPanel params={this.params} />\n\t\t\t\t</aCollapsePanel>\n\t\t\t\t<aCollapsePanel key={QUERY} header={QUERY}>\n\t\t\t\t\t<aButton\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tonClick={() => this.addParams(\"req_query\")}>\n\t\t\t\t\t\t添加Query参数\n\t\t\t\t\t</aButton>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"bulk-import\"\n\t\t\t\t\t\tonClick={() => this.showBulk(\"req_query\")}>\n\t\t\t\t\t\t批量添加\n\t\t\t\t\t</div>\n\t\t\t\t</aCollapsePanel>\n\t\t\t\t<aCollapsePanel\n\t\t\t\t\tkey={BODY}\n\t\t\t\t\theader={BODY}\n\t\t\t\t\tcollapsible={this.bodyCollapsible}>\n\t\t\t\t\t<BodyParamsPanel params={this.params} />\n\t\t\t\t</aCollapsePanel>\n\t\t\t</aCollapse>\n\t\t);\n\t}\n});\n","import {\n\tvalidateForm,\n\tAllWasWell,\n\tpickValueFrom,\n\tUI,\n\tdefItem,\n\txU,\n\tVNodeCollection,\n\tsetValueTo,\n\tState_UI,\n\t$\n} from \"@ventose/ui\";\nimport { defineComponent, markRaw } from \"vue\";\nimport { API } from \"../../../api\";\nimport { State_App } from \"../../../state/State_App\";\nimport { FormRules } from \"../../../utils/common.FormRules\";\nimport { ITEM_OPTIONS } from \"../../../utils/common.options\";\nimport { HTTP_METHOD } from \"./../../../utils/variable\";\nimport { State_Project } from \"./State_Project\";\nimport { _$handlePath, _$interfacePathParamsTpl } from \"src/utils/common\";\nimport { DialogUpsertTags } from \"./DialogUpsertTags\";\nimport { DialogUpsertProxyEnv } from \"./DialogUpsertProxyEnv\";\nimport { RequestArgsPanel } from \"src/components/RequestArgsPanel\";\n\nexport const DialogModifyInterface = defineComponent({\n\tprops: {\n\t\t/* Dialog 默认传入参数 */\n\t\tpropDialogOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn { __elId: false };\n\t\t\t}\n\t\t}\n\t},\n\tsetup() {\n\t\treturn { State_App, State_Project };\n\t},\n\tcomputed: {\n\t\tvDomXItemPathparams() {\n\t\t\tif (xU.isArrayFill(this.dataXItem.pathParams.value)) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xItem configs={this.dataXItem.pathParams} />\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tinterfaceId() {\n\t\t\treturn this.propDialogOptions.oldInterface._id;\n\t\t},\n\t\tconfigsDialogFooter() {\n\t\t\treturn {\n\t\t\t\tonCancel: async () => {\n\t\t\t\t\tthis.propDialogOptions.closeDialog();\n\t\t\t\t},\n\t\t\t\tonOk: async () => {\n\t\t\t\t\tthis.submit();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tdata() {\n\t\tconst vm = this;\n\t\treturn {\n\t\t\treqArgs: \"1\",\n\t\t\tdetailInfo: {},\n\t\t\tactiveKey: \"1\",\n\t\t\tdataXItem: {\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\titemType: \"Select\",\n\t\t\t\t\tprop: \"catid\",\n\t\t\t\t\tlabel: vm.$t(\"接口分类\").label,\n\t\t\t\t\tplaceholder: \"分类名称\",\n\t\t\t\t\toptions: [],\n\t\t\t\t\trules: [FormRules.required()],\n\t\t\t\t\tsetOptions(allCategory) {\n\t\t\t\t\t\tthis.options = allCategory;\n\t\t\t\t\t\t/* 默认在点击的分类下添加新接口 */\n\t\t\t\t\t\tif (vm.propDialogOptions.categoryId) {\n\t\t\t\t\t\t\tthis.value = vm.propDialogOptions.categoryId;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.value = xU.first(this.options)?.value || \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tprop: \"title\",\n\t\t\t\t\tlabel: vm.$t(\"接口名称\").label,\n\t\t\t\t\tplaceholder: vm.$t(\"接口名称\").label,\n\t\t\t\t\trules: [\n\t\t\t\t\t\tFormRules.required(),\n\t\t\t\t\t\tFormRules.nameLength({ label: vm.$t(\"接口\").label })\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: vm.State_App.currProject.basepath,\n\t\t\t\t\tprop: \"basepath\",\n\t\t\t\t\tlabel: vm.$t(\"接口基本路径\").label,\n\t\t\t\t\tlabelVNodeRender:\n\t\t\t\t\t\tVNodeCollection.labelTips(`接口基本路径，可在 项目设置 里修改`),\n\t\t\t\t\tdisabled: true\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\titemType: \"Select\",\n\t\t\t\t\tprop: \"apiMethod\",\n\t\t\t\t\toptions: ITEM_OPTIONS.httpMethod,\n\t\t\t\t\tonChange(val) {\n\t\t\t\t\t\t/* 控制body是否可以编辑 */\n\t\t\t\t\t\tvm.dataXItem.requestArgs.apiMethod = val;\n\t\t\t\t\t},\n\t\t\t\t\trules: [FormRules.required()],\n\t\t\t\t\tstyle: { width: \"120px\" }\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tprop: \"path\",\n\t\t\t\t\tlabel: vm.$t(\"接口路径\").label,\n\t\t\t\t\tlabelVNodeRender: VNodeCollection.labelTips(\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t1.接口路径支持路由参数，例如:/api/v1/project\n\t\t\t\t\t\t\t\t<b>/{\"{projectId}\"}</b>。\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t2.Query参数，例如/api/v1/project<b>?projectId=0001</b>。请定义到\n\t\t\t\t\t\t\t\t<b>Request设置-&#62;Query</b>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t),\n\t\t\t\t\tplaceholder: \"/path\",\n\t\t\t\t\trules: [FormRules.required(), FormRules.apiPath()],\n\t\t\t\t\tonce() {\n\t\t\t\t\t\tconst vDomApiMethodsSelector = (\n\t\t\t\t\t\t\t<xItem configs={vm.dataXItem.apiMethod} />\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.slots = markRaw({\n\t\t\t\t\t\t\taddonBefore: () => vDomApiMethodsSelector\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonAfterValueEmit: xU.debounce(function (newPatnValue) {\n\t\t\t\t\t\tnewPatnValue = _$handlePath(newPatnValue);\n\t\t\t\t\t\tlet queue = [];\n\t\t\t\t\t\tsetValueTo(vm.dataXItem, { path: newPatnValue });\n\t\t\t\t\t\tconst { pathParams } = pickValueFrom(vm.dataXItem);\n\n\t\t\t\t\t\tlet insertParams = name => {\n\t\t\t\t\t\t\tlet findExist = xU.find(pathParams, { name: name });\n\t\t\t\t\t\t\tif (findExist) {\n\t\t\t\t\t\t\t\tqueue.push(findExist);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tqueue.push({ name: name, desc: \"\" });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (newPatnValue && newPatnValue.indexOf(\":\") !== -1) {\n\t\t\t\t\t\t\tlet paths = newPatnValue.split(\"/\"),\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\ti;\n\t\t\t\t\t\t\tfor (i = 1; i < paths.length; i++) {\n\t\t\t\t\t\t\t\tif (paths[i][0] === \":\") {\n\t\t\t\t\t\t\t\t\tname = paths[i].substr(1);\n\t\t\t\t\t\t\t\t\tinsertParams(name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (newPatnValue && newPatnValue.length > 3) {\n\t\t\t\t\t\t\tnewPatnValue.replace(/\\{(.+?)\\}/g, function (str, match) {\n\t\t\t\t\t\t\t\tinsertParams(match);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetValueTo(vm.dataXItem, {\n\t\t\t\t\t\t\tpathParams: xU.map(xU.uniqBy(queue, \"name\"), newValue => {\n\t\t\t\t\t\t\t\t/* @ts-ignore */\n\t\t\t\t\t\t\t\treturn xU.merge(\n\t\t\t\t\t\t\t\t\t{ name: \"\", desc: \"\", example: \"\", _id: \"\" },\n\t\t\t\t\t\t\t\t\tnewValue\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 800)\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tprop: \"pathParams\",\n\t\t\t\t\tlabel: \"接口路径参数\",\n\t\t\t\t\tvalue: [],\n\t\t\t\t\titemType: InpterfacePathParams\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tprop: \"tag\",\n\t\t\t\t\tlabel: \"Tag\",\n\t\t\t\t\tvalue: [],\n\t\t\t\t\toptions: [],\n\t\t\t\t\tasync setOptions(tagArray) {\n\t\t\t\t\t\tthis.options = tagArray;\n\t\t\t\t\t},\n\t\t\t\t\titemType: TagSelectRender\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tprop: \"isProxy\",\n\t\t\t\t\tlabel: \"是否开启转发\",\n\t\t\t\t\toptions: ITEM_OPTIONS.YesOrNo,\n\t\t\t\t\titemType: \"Switch\"\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tisShow: () => vm.dataXItem.isProxy.value,\n\t\t\t\t\tprop: \"witchEnv\",\n\t\t\t\t\tlabel: \"转发环境\",\n\t\t\t\t\toptions: [],\n\t\t\t\t\tsetOptions(envArray) {\n\t\t\t\t\t\tthis.options = xU.map(envArray, i => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tvalue: i._id,\n\t\t\t\t\t\t\t\tlabel: `${i.name} ${i.domain}`\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\titemType: EnvSelectRender\n\t\t\t\t}),\n\t\t\t\t...defItem({\n\t\t\t\t\tprop: \"requestArgs\",\n\t\t\t\t\tlabel: \"请求参数设置\",\n\t\t\t\t\tvalue: [],\n\t\t\t\t\tactiveKey: \"1\",\n\t\t\t\t\tapiMethod: \"\",\n\t\t\t\t\titemType: RequestArgsRender\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.setFormDataValues();\n\t},\n\twatch: {\n\t\t\"State_App.currProject\": {\n\t\t\timmediate: true,\n\t\t\tdeep: true,\n\t\t\thandler(currProject) {\n\t\t\t\tconst { env: envArray, tag: tagArray, cat: category } = currProject;\n\t\t\t\tthis.dataXItem.catid.setOptions(\n\t\t\t\t\txU.map(category, i => ({ ...i, label: i.name, value: i._id }))\n\t\t\t\t);\n\t\t\t\tthis.dataXItem.witchEnv.setOptions(envArray);\n\t\t\t\tthis.dataXItem.tag.setOptions(tagArray);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tsetFormDataValues() {\n\t\t\tthis.detailInfo = this.initState(this.propDialogOptions.oldInterface);\n\t\t\tconsole.log(JSON.stringify(this.detailInfo, null, 2));\n\n\t\t\tconst {\n\t\t\t\tcatid,\n\t\t\t\ttitle,\n\t\t\t\tpath,\n\t\t\t\treq_params,\n\t\t\t\ttag,\n\t\t\t\tisProxy,\n\t\t\t\twitchEnv,\n\t\t\t\tmethod,\n\t\t\t\treq_body_type,\n\t\t\t\treq_body_form,\n\t\t\t\treq_body_other\n\t\t\t} = this.detailInfo;\n\n\t\t\tsetValueTo(this.dataXItem, {\n\t\t\t\twitchEnv,\n\t\t\t\tcatid,\n\t\t\t\ttitle,\n\t\t\t\tapiMethod: method,\n\t\t\t\tpath,\n\t\t\t\tpathParams: req_params,\n\t\t\t\ttag: String(tag).split(\",\"),\n\t\t\t\tisProxy,\n\t\t\t\trequestArgs: {\n\t\t\t\t\t/* body的编辑类型 */\n\t\t\t\t\treq_body_type,\n\t\t\t\t\t/* req_body_form 的数据 */\n\t\t\t\t\treq_body_form,\n\t\t\t\t\t/* req_body file raw 的数据 */\n\t\t\t\t\treq_body_other\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tinitState(detailInfo) {\n\t\t\tthis.startTime = new Date().getTime();\n\t\t\tif (detailInfo.req_query && detailInfo.req_query.length === 0) {\n\t\t\t\tdelete detailInfo.req_query;\n\t\t\t}\n\t\t\tif (detailInfo.req_headers && detailInfo.req_headers.length === 0) {\n\t\t\t\tdelete detailInfo.req_headers;\n\t\t\t}\n\t\t\tif (detailInfo.req_body_form && detailInfo.req_body_form.length === 0) {\n\t\t\t\tdelete detailInfo.req_body_form;\n\t\t\t}\n\t\t\tif (detailInfo.req_params && detailInfo.req_params.length === 0) {\n\t\t\t\tdelete detailInfo.req_params;\n\t\t\t}\n\t\t\tif (detailInfo.req_body_form) {\n\t\t\t\tdetailInfo.req_body_form = detailInfo.req_body_form.map(item => {\n\t\t\t\t\titem.type = item.type === \"text\" ? \"text\" : \"file\";\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t}\n\t\t\t// 设置标签的展开与折叠\n\t\t\tdetailInfo[\"hideTabs\"] = {\n\t\t\t\treq: {\n\t\t\t\t\tbody: \"hide\",\n\t\t\t\t\tquery: \"hide\",\n\t\t\t\t\theaders: \"hide\"\n\t\t\t\t}\n\t\t\t};\n\t\t\tdetailInfo[\"hideTabs\"][\"req\"][\n\t\t\t\tHTTP_METHOD[detailInfo.method].default_tab\n\t\t\t] = \"\";\n\t\t\treturn Object.assign(\n\t\t\t\t{\n\t\t\t\t\tsubmitStatus: false,\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tpath: \"\",\n\t\t\t\t\tstatus: \"undone\",\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\treq_params: [],\n\t\t\t\t\treq_query: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"\",\n\t\t\t\t\t\t\tdesc: \"\",\n\t\t\t\t\t\t\trequired: \"1\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\treq_headers: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"\",\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\trequired: \"1\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\treq_body_type: \"form\",\n\t\t\t\t\treq_body_form: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"\",\n\t\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\t\trequired: \"1\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\treq_body_other: \"\",\n\t\t\t\t\tres_body_type: \"json\",\n\t\t\t\t\tres_body: \"\",\n\t\t\t\t\tdesc: \"\",\n\t\t\t\t\tres_body_mock: \"\",\n\t\t\t\t\tjsonType: \"tpl\",\n\t\t\t\t\treq_radio_type: \"req-query\",\n\t\t\t\t\tcustom_field_value: \"\",\n\t\t\t\t\tapi_opened: false,\n\t\t\t\t\tvisible: false\n\t\t\t\t},\n\t\t\t\tdetailInfo\n\t\t\t);\n\t\t},\n\t\tasync submit() {\n\t\t\tconst validateResults = await validateForm(this.dataXItem);\n\t\t\tif (AllWasWell(validateResults)) {\n\t\t\t\tconst { catid, title, path, apiMethod } = pickValueFrom(this.dataXItem);\n\t\t\t\tconst { projectId } = this.propDialogOptions;\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await API.project.addInterface({\n\t\t\t\t\t\tproject_id: projectId,\n\t\t\t\t\t\tcatid,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\tmethod: apiMethod\n\t\t\t\t\t});\n\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUI.message.error(\"添加失败\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\trender() {\n\t\tconst vm = this;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class=\"dialog-modify-interface g-row flex1 flex horizon height100 width100 overflow-auto\">\n\t\t\t\t\t<div class=\"flex1\">\n\t\t\t\t\t\t{/* {JSON.stringify(pickValueFrom(this.dataXItem))} */}\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<xForm labelStyle={{ \"min-width\": \"120px\", width: \"unset\" }}>\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.catid} />\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.title} />\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.basepath} />\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.path} />\n\t\t\t\t\t\t\t{/* 接口路径参数 */}\n\t\t\t\t\t\t\t{this.vDomXItemPathparams}\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.tag} />\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.isProxy} />\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.witchEnv} />\n\t\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t\t<xItem configs={this.dataXItem.requestArgs} />\n\t\t\t\t\t\t</xForm>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<xDialogFooter configs={this.configsDialogFooter} />\n\t\t\t</>\n\t\t);\n\t}\n});\n\nexport const InpterfacePathParams = args => {\n\targs.property.value = args.property.value || [];\n\targs.fnUpdate = (prop, val, index) => {\n\t\targs.property.value[index][prop] = val;\n\t\targs.listeners[\"onUpdate:value\"](args.property.value);\n\t};\n\treturn xU.map(args.property.value, (data, index) => {\n\t\tconst { desc, example, name, _id } = data;\n\t\treturn (\n\t\t\t<div class=\"flex middel mt10 width100\">\n\t\t\t\t<aTag class=\"mr10 flex middle\" style=\"min-width:100px\">\n\t\t\t\t\t{name}\n\t\t\t\t</aTag>\n\t\t\t\t<span class=\"mr10 flex1\">\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={{\n\t\t\t\t\t\t\tplaceholder: \"参数示例\",\n\t\t\t\t\t\t\tvalue: example,\n\t\t\t\t\t\t\tonAfterValueEmit: val => args.fnUpdate(\"example\", val, index)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"flex1\">\n\t\t\t\t\t<xItem\n\t\t\t\t\t\tconfigs={{\n\t\t\t\t\t\t\tplaceholder: \"备注\",\n\t\t\t\t\t\t\tvalue: desc,\n\t\t\t\t\t\t\tonAfterValueEmit: val => args.fnUpdate(\"desc\", val, index)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t});\n};\n\nexport async function openProxyEnvDialog() {\n\tconst { _layerKey } = await UI.dialog.component({\n\t\ttitle: State_UI.$t(\"管理项目接口转发环境\").label,\n\t\tcomponent: DialogUpsertProxyEnv\n\t});\n\t/*弹窗里面的弹窗点击之后不关闭（点不到其他位置）*/\n\t$(`#layui-layer-shade${_layerKey}`).css(\"z-index\", 1);\n}\nasync function openUpsertTagDialog() {\n\tconst { _layerKey } = await UI.dialog.component({\n\t\ttitle: State_UI.$t(\"管理项目接口Tags\").label,\n\t\tcomponent: DialogUpsertTags\n\t});\n\t/*弹窗里面的弹窗点击之后不关闭（点不到其他位置）*/\n\t$(`#layui-layer-shade${_layerKey}`).css(\"z-index\", 1);\n}\n\nconst EnvSelectRender = args => {\n\targs.property.value = args.property.value || [];\n\tconst options = args.property.options || [];\n\targs.fnUpdate = val => {\n\t\targs.listeners[\"onUpdate:value\"](val);\n\t};\n\tconst vDomOptions = xU.map(options, item => {\n\t\treturn (\n\t\t\t<aSelectOption value={item.value} key={item.value}>\n\t\t\t\t{item.label}\n\t\t\t</aSelectOption>\n\t\t);\n\t});\n\treturn (\n\t\t<div class=\"flex overflow-auto\">\n\t\t\t<aSelect\n\t\t\t\tplaceholder=\"请选择转发环境\"\n\t\t\t\tonChange={args.fnUpdate}\n\t\t\t\tmode=\"multiple\"\n\t\t\t\tvalue={args.property.value}>\n\t\t\t\t{vDomOptions}\n\t\t\t</aSelect>\n\t\t\t<xGap l=\"10\" />\n\t\t\t<xButton\n\t\t\t\tconfigs={{\n\t\t\t\t\ttext: State_UI.$t(\"转发环境设置\").label,\n\t\t\t\t\tonClick: openProxyEnvDialog\n\t\t\t\t}}\n\t\t\t\tclass=\"ml10\"\n\t\t\t\ttype=\"primary\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\nconst TagSelectRender = args => {\n\targs.property.value = args.property.value || [];\n\tconst options = args.property.options || [];\n\targs.fnUpdate = val => {\n\t\targs.listeners[\"onUpdate:value\"](val);\n\t};\n\n\tconst vDomOptions = xU.map(options, item => {\n\t\treturn (\n\t\t\t<aSelectOption value={item.name} key={item.name}>\n\t\t\t\t<span v-uiPopover={{ content: item.desc }}>{item.name}</span>\n\t\t\t</aSelectOption>\n\t\t);\n\t});\n\treturn (\n\t\t<div class=\"flex overflow-auto\">\n\t\t\t<aSelect\n\t\t\t\tplaceholder=\"请选择 tag\"\n\t\t\t\tonChange={args.fnUpdate}\n\t\t\t\tmode=\"multiple\"\n\t\t\t\tvalue={args.property.value}>\n\t\t\t\t{vDomOptions}\n\t\t\t</aSelect>\n\t\t\t<xGap l=\"10\" />\n\t\t\t<xButton\n\t\t\t\tconfigs={{\n\t\t\t\t\ttext: State_UI.$t(\"Tag设置\").label,\n\t\t\t\t\tonClick: openUpsertTagDialog\n\t\t\t\t}}\n\t\t\t\tclass=\"ml10\"\n\t\t\t\ttype=\"primary\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst RequestArgsRender = args => {\n\t/* input */\n\targs.property.value = args.property.value || [];\n\t/* output */\n\targs.fnUpdate = val => {\n\t\targs.listeners[\"onUpdate:value\"](val);\n\t};\n\n\t/* TODO: miss readonly \n\tif(args.property.isReadonly){\n\t\treturn <ReadonlyView />\n\t}\n\t*/\n\n\treturn (\n\t\t<RequestArgsPanel\n\t\t\tparams={args.property.value}\n\t\t\tapiMethod={args.property.apiMethod}\n\t\t\tonUpdate:params={args.fnUpdate}\n\t\t/>\n\t);\n};\n","import { defineComponent, ref, watch } from \"vue\";\nimport { $, xU, UI } from \"@ventose/ui\";\nimport { API } from \"../../../api\";\nimport { Methods_Project, State_Project } from \"./State_Project\";\nimport { Cpt_url } from \"../../../router/router\";\nimport { InfoCard, InfoCardCol } from \"../../../components/InfoCard\";\nimport { ITEM_OPTIONS, ITEM_OPTIONS_VDOM } from \"../../../utils/common.options\";\nimport { State_App } from \"./../../../state/State_App\";\nimport { DialogModifyInterface } from \"./DialogModifyInterface\";\nimport { makeAhref } from \"src/components/RouterView/RouterView\";\nimport copy from \"copy-to-clipboard\";\n\nexport const InterfaceDetail = defineComponent({\n\tsetup() {\n\t\treturn { State_Project: State_Project, Cpt_url };\n\t},\n\tdata(vm) {\n\t\treturn {\n\t\t\tState_App,\n\t\t\tdetailInfo: false\n\t\t};\n\t},\n\twatch: {\n\t\t\"Cpt_url.query.interface_id\": {\n\t\t\timmediate: true,\n\t\t\tasync handler(interface_id) {\n\t\t\t\tif (!interface_id) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst { data } = await API.project.fetchInterfaceDetail(\n\t\t\t\t\tthis.Cpt_url.query.interface_id\n\t\t\t\t);\n\t\t\t\tthis.detailInfo = data;\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.showModifyInterfaceDialog();\n\t},\n\tmethods: {\n\t\tcopyUrl(url) {\n\t\t\tcopy(url);\n\t\t\tUI.message.success(\"已经成功复制到剪切板\");\n\t\t},\n\t\tflagMsg(mock, strice) {\n\t\t\tif (mock && strice) {\n\t\t\t\treturn <span>( 全局mock & 严格模式 )</span>;\n\t\t\t} else if (!mock && strice) {\n\t\t\t\treturn <span>( 严格模式 )</span>;\n\t\t\t} else if (mock && !strice) {\n\t\t\t\treturn <span>( 全局mock )</span>;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tcloseWS() {\n\t\t\tthis.WebSocket && this.WebSocket.close();\n\t\t\tdelete this.WebSocket;\n\t\t},\n\t\tasync showModifyInterfaceDialog() {\n\t\t\tconst vm = this;\n\t\t\tawait xU.ensureValueDone(() => this.detailInfo);\n\t\t\tconst item = this.detailInfo;\n\t\t\tconst $dialogModifyInterface = $(`.dialog-modify-interface`);\n\n\t\t\tif ($dialogModifyInterface.length > 0) {\n\t\t\t\tUI.message.warn(this.$t(\"已存在修改面板\").label);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { status, curdata, message } = await this.checkConflict(item);\n\n\t\t\tif (status == 2) {\n\t\t\t\tUI.dialog.confirm({\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<div class=\"flex middle\">\n\t\t\t\t\t\t\t<a href={makeAhref(`/user/profile/${curdata.uid}`)}>\n\t\t\t\t\t\t\t\t{curdata.username}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<div>正在编辑该接口，请稍后再试...</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t});\n\t\t\t\tthis.closeWS();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (message) {\n\t\t\t\tUI.message.warn(message);\n\t\t\t}\n\n\t\t\tUI.dialog.component({\n\t\t\t\ttitle: this.$t(\"修改接口\").label + `-${item.title}`,\n\t\t\t\tfullscreen: true,\n\t\t\t\tcomponent: DialogModifyInterface,\n\t\t\t\toldInterface: item,\n\t\t\t\tmaxmin: true,\n\t\t\t\tonBeforeClose: vm.closeWS\n\t\t\t});\n\t\t},\n\t\tasync checkConflict(item) {\n\t\t\tconst vm = this;\n\t\t\tconst { hostname, port, protocol } = location;\n\t\t\tlet domain = hostname + (port !== \"\" ? \":\" + port : \"\");\n\t\t\t//因后端 node 仅支持 ws， 暂不支持 wss\n\t\t\tlet wsProtocol = protocol === \"https:\" ? \"wss\" : \"ws\";\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst sockei = new WebSocket(\n\t\t\t\t\t\t`${wsProtocol}://${domain}/api/interface/solve_conflict?id=${item._id}`\n\t\t\t\t\t);\n\t\t\t\t\tsockei.onopen = () => {\n\t\t\t\t\t\tvm.WebSocket = sockei;\n\t\t\t\t\t};\n\t\t\t\t\tsockei.onmessage = e => {\n\t\t\t\t\t\tlet result = JSON.parse(e.data);\n\t\t\t\t\t\tif (result.errno === 0) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tcurdata: result.data,\n\t\t\t\t\t\t\t\tstatus: 1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tcurdata: result.data,\n\t\t\t\t\t\t\t\tstatus: 2\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tsockei.onerror = () => {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tcurdata: item,\n\t\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\t\tmessage: \"websocket 连接失败，将导致多人编辑同一个接口冲突。\"\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t} catch (e) {\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tcurdata: item,\n\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\tmessage: \"websocket 连接失败，将导致多人编辑同一个接口冲突。\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tcomputed: {\n\t\tstatus() {\n\t\t\tlet status = {\n\t\t\t\tundone: \"未完成\",\n\t\t\t\tdone: \"已完成\"\n\t\t\t};\n\n\t\t\treturn status[this.detailInfo?.status];\n\t\t},\n\t\tlabelProxyEnv() {\n\t\t\tif (!this.detailInfo.isProxy) {\n\t\t\t\treturn \"Y-api Mock 数据\";\n\t\t\t}\n\t\t\tconst envId = this.detailInfo.witchEnv;\n\t\t\tif (!envId) {\n\t\t\t\treturn \"任意\";\n\t\t\t}\n\t\t\tif (envId) {\n\t\t\t\tconst envArray = this.State_App.currProject.env;\n\t\t\t\tlet env = xU.find(envArray, { _id: envId });\n\t\t\t\tif (env) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<aTag color=\"cyan\">{env.name}</aTag>\n\t\t\t\t\t\t\t<span>{env.domain}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn \"--\";\n\t\t\t}\n\t\t},\n\t\tvDomCopyAjaxCodePanel() {\n\t\t\tconst { tag, up_time, title, uid, username, path, method } =\n\t\t\t\tthis.detailInfo;\n\n\t\t\tconst ajaxCode = `/**\n*  ${title}\n*  ${window.location.href}\n*/\nasync ${xU.camelCase(path)}({params,data}) {\n\treturn ajax({\n\tmethod: \"${method}\",\n\turl: \\`${path}\\`,\n\tparams:params||{},\n\tdata:data||{}\n\t});\n}`;\n\n\t\t\treturn (\n\t\t\t\t<div style=\"position:relative;overflow:auto;height:100%;\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => this.copyUrl(ajaxCode)}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\tzIndex: 1\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t复制代码\n\t\t\t\t\t</Button>\n\t\t\t\t\t<MonacoEditor\n\t\t\t\t\t\tcode={ajaxCode}\n\t\t\t\t\t\tstyle={{ minHeight: 180 }}\n\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tvDomMockHref() {\n\t\t\t/* @ts-ignore */\n\t\t\tconst { protocol, hostname, port } = location;\n\t\t\treturn `${protocol}//${hostname}${port ? `:${port}` : \"\"}/mock/${\n\t\t\t\tthis.State_App.currProject._id\n\t\t\t}${this.State_App.currProject.basepath}${this.detailInfo.path}`;\n\t\t},\n\t\tdescriptions() {\n\t\t\tconst {\n\t\t\t\ttag,\n\t\t\t\tup_time,\n\t\t\t\ttitle,\n\t\t\t\tuid,\n\t\t\t\tusername,\n\t\t\t\tstatus,\n\t\t\t\tpath,\n\t\t\t\tmethod,\n\t\t\t\tisProxy,\n\t\t\t\tcustom_field_value,\n\t\t\t\tdesc\n\t\t\t} = this.detailInfo || {};\n\n\t\t\tconst rowArray = [\n\t\t\t\t{\n\t\t\t\t\tcolArray: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"接口名称\",\n\t\t\t\t\t\t\tcol: 3,\n\t\t\t\t\t\t\tvalue: this.detailInfo?.title\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolArray: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"维护人\",\n\t\t\t\t\t\t\tvalue: (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<aAvatar\n\t\t\t\t\t\t\t\t\t\tsrc={\"/api/user/avatar?uid=\" + uid}\n\t\t\t\t\t\t\t\t\t\tclass=\"mr8\"\n\t\t\t\t\t\t\t\t\t\tstyle=\"height:24px;width:24px;\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<a>{username}</a>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"状态\", value: ITEM_OPTIONS_VDOM.status(status) },\n\t\t\t\t\t\t{ label: \"更新时间\", value: xU.dateFormat(up_time) }\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolArray: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"接口路径\",\n\t\t\t\t\t\t\tcol: 3,\n\t\t\t\t\t\t\tvalue: (\n\t\t\t\t\t\t\t\t<CopyContent class=\"flex middle\">\n\t\t\t\t\t\t\t\t\t{ITEM_OPTIONS_VDOM.httpMethod(method)}\n\t\t\t\t\t\t\t\t\t{this.State_App.currProject.basepath} {path}\n\t\t\t\t\t\t\t\t</CopyContent>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolArray: [\n\t\t\t\t\t\t{ label: \"Tag\", col: 3, value: ITEM_OPTIONS_VDOM.tags(tag) }\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolArray: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"是否开启转发\",\n\t\t\t\t\t\t\tcol: 1,\n\t\t\t\t\t\t\tvalue: xU.find(ITEM_OPTIONS.YesOrNo, { value: isProxy })?.label\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"转发环境\", col: 2, value: this.labelProxyEnv }\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolArray: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t<div class=\"flex middle\">\n\t\t\t\t\t\t\t\t\t<span class=\"mr10\">Mock地址</span>\n\t\t\t\t\t\t\t\t\t<aButton type=\"primary\">运行</aButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tcol: 3,\n\t\t\t\t\t\t\tvalue: (\n\t\t\t\t\t\t\t\t<div class=\"flex middle width100\">\n\t\t\t\t\t\t\t\t\t{this.flagMsg(\n\t\t\t\t\t\t\t\t\t\tthis.State_App.currProject.is_mock_open,\n\t\t\t\t\t\t\t\t\t\tthis.State_App.currProject.strice\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<CopyContent>\n\t\t\t\t\t\t\t\t\t\t<span class=\"href\">{this.vDomMockHref}</span>\n\t\t\t\t\t\t\t\t\t</CopyContent>\n\t\t\t\t\t\t\t\t\t<xGap f=\"1\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tstyle: `height:200px;`,\n\t\t\t\t\tcolArray: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"ajax代码\",\n\t\t\t\t\t\t\tcol: 3,\n\t\t\t\t\t\t\tvalue: this.vDomCopyAjaxCodePanel\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tif (\n\t\t\t\tcustom_field_value &&\n\t\t\t\tthis.State_App.currGroup?.custom_field?.enable\n\t\t\t) {\n\t\t\t\trowArray.push([\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.State_App.currGroup.custom_field.enable,\n\t\t\t\t\t\tcol: 3,\n\t\t\t\t\t\tvalue: custom_field_value\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t}\n\t\t\tif (desc) {\n\t\t\t\trowArray.push([\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"备注\",\n\t\t\t\t\t\tcol: 3,\n\t\t\t\t\t\tvalue: desc\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\treturn { rowArray };\n\t\t}\n\t},\n\trender() {\n\t\tif (!this.detailInfo || !this.State_App.currProject) {\n\t\t\treturn <aSpin spinning={true} class=\"flex middle center flex1\"></aSpin>;\n\t\t}\n\t\tconsole.log(\n\t\t\tthis.State_App.currGroup,\n\t\t\tthis.State_App.currProject,\n\t\t\tthis.detailInfo\n\t\t);\n\t\treturn (\n\t\t\t<xView style=\"overflow:hidden;\">\n\t\t\t\t<div class=\"flex\">\n\t\t\t\t\t<xButton onClick={this.showModifyInterfaceDialog}>修改</xButton>\n\t\t\t\t\t<xGap l=\"10\" />\n\t\t\t\t\t<xButton onClick={this.showModifyInterfaceDialog}>删除</xButton>\n\t\t\t\t\t<xGap f=\"1\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex1 overflow-auto mt10\">\n\t\t\t\t\t<InfoCard title={<span>基本信息</span>} info={this.descriptions} />\n\t\t\t\t\t<xGap t=\"20\" />\n\t\t\t\t\t<InfoCard title={\"请求参数\"}>\n\t\t\t\t\t\t<aCard title=\"Headers\">\n\t\t\t\t\t\t\t<h3>Headers</h3>\n\t\t\t\t\t\t</aCard>\n\t\t\t\t\t\t<xGap t=\"10\" />\n\t\t\t\t\t\t<aCard title=\"Query\">\n\t\t\t\t\t\t\t<h3>Query</h3>\n\t\t\t\t\t\t</aCard>\n\t\t\t\t\t</InfoCard>\n\t\t\t\t\t<xGap t=\"20\" />\n\t\t\t\t\t<InfoCard title={\"返回信息\"}>\n\t\t\t\t\t\t<aCard>返回信息</aCard>\n\t\t\t\t\t\t<aCard>返回信息</aCard>\n\t\t\t\t\t\t<aCard>返回信息</aCard>\n\t\t\t\t\t\t<aCard>返回信息</aCard>\n\t\t\t\t\t\t<aCard>返回信息</aCard>\n\t\t\t\t\t\t<aCard>返回信息</aCard>\n\t\t\t\t\t\t<aCard>返回信息</aCard>\n\t\t\t\t\t</InfoCard>\n\t\t\t\t</div>\n\t\t\t</xView>\n\t\t);\n\t}\n});\n"],"names":["makeKeyValueObj","i","key","name","value","makeNameValueObj","orderAsc","a","b","InputKeyValue","defineComponent","props","emits","setup","State_App","data","privateItems","isLoading","watch","formData","checkFormDataDebounce","mounted","setPrivateItems","computed","xU","reduce","privateTag","prop","keyConfigs","valueConfigs","vDomItems","map","_id","index","_createVNode","_resolveComponent","_withDirectives","deleteItem","_resolveDirective","methods","items","isArrayFill","_items","tag","genItem","debounce","isFormDataOk","keys","Object","Number","sort","_value","item","isInput","push","$emit","res","some","_key","_index","itemTips","type","msg","FormRules","FAIL","fnCheck","isFail","SUCCESS","length","addItem","nextIndex","last","render","vm","_Fragment","genTag","desc","nameConfigs","defItem","placeholder","descConfigs","DialogUpsertTags","propDialogOptions","default","__elId","privateTags","immediate","handler","tags","cloneDeep","propProjectId","currProject","alert","console","log","_name","deleteTag","addTag","onOk","id","API","project","updateTags","Methods_App","setCurrProject","isEnforce","UI","message","success","closeDialog","_createTextVNode","preset","onClick","DialogUpsertProxyEnv","privateEnv","currentSelected","configsForm","label","slots","addonBefore","protocol","rules","custom","validator","rule","test","itemType","options","ITEM_OPTIONS","httpProtocol","style","KeyValuePanel","configs","args","env","raw$EnvId","find","first","switchEvn","setFormValues","vDomLeftSide","className","fnDelete","dialog","confirm","content","envIndex","findIndex","splice","error","deleteEnv","onlyEllipsis","placement","xDomSaveButton","vdomEnvconfigs","vDomContent","width","padding","afterControll","domain","global","header","cookie","envItem","continu","rightData","pickValueFrom","delta","diff","leftData","e","split","cookieIndex","cookieString","setValueTo","setTimeout","validateResults","validateForm","AllWasWell","join","envArray","updateProxyEnv","$t","addEnv","newItem","genId","unshift","delay","property","fnUpdate","val","listeners","newFormData","required","example","STRATEGY_CELL_ITEM_CONFIGS","interfaceBodyFormType","BODY_PARAM_PROP_ARRAY","ID_NAME","ID_TYPE","ID_REQUIRED","ID_RECORD","ID_DESC","ID_OPERATIONS","BodyParamsForm","formDataArray","resetDataForm","addRow","syncFormDataFromConfigs","configs_table","dataSource","deleteRow","each","rowData","newFormDataArray","defXVirTableConfigs","rowHeight","customClass","tableId","dataSourceFilter","rowRecord","merge","itemWrapperClass","columns","defCol","renderCell","record","compileVNode","renderHeader","height","BodyParamsRaw","bodyText","DialogBulkValues","formItems","isTextarea","bulkValue","formValues","configs_name","configs_example","isFunction","doNothing","configsFooter","onCancel","bulkValueArray","formArray","str","vDomFormItems","BodyParamsPanel","configsBodyType","interfaceBodyType","openBulkValuesDialog","component","title","params","req_body_form","extra","req_body_type","isForm","HeaderParamsForm","HeaderParamsPanel","RequestArgsPanel","collapseActive","QUERY","privateHttpMethod","GET","privateParams","apiMethod","HTTP_METHOD","default_tab","bodyCollapsible","request_body","addParams","showBulk","BODY","_isVNode","DialogModifyInterface","State_Project","vDomXItemPathparams","dataXItem","pathParams","interfaceId","oldInterface","configsDialogFooter","submit","reqArgs","detailInfo","activeKey","setOptions","allCategory","categoryId","nameLength","basepath","labelVNodeRender","VNodeCollection","labelTips","disabled","httpMethod","onChange","requestArgs","apiPath","once","vDomApiMethodsSelector","markRaw","onAfterValueEmit","newPatnValue","_$handlePath","queue","path","insertParams","findExist","indexOf","paths","substr","replace","match","uniqBy","newValue","InpterfacePathParams","tagArray","TagSelectRender","YesOrNo","isShow","isProxy","EnvSelectRender","RequestArgsRender","setFormDataValues","deep","cat","category","catid","witchEnv","initState","JSON","stringify","req_params","method","req_body_other","String","startTime","Date","getTime","req_query","req_headers","req","body","query","headers","assign","submitStatus","status","res_body_type","res_body","res_body_mock","jsonType","req_radio_type","custom_field_value","api_opened","visible","projectId","addInterface","project_id","openProxyEnvDialog","_layerKey","State_UI","$","css","openUpsertTagDialog","vDomOptions","text","InterfaceDetail","Cpt_url","interface_id","fetchInterfaceDetail","showModifyInterfaceDialog","copyUrl","url","copy","flagMsg","mock","strice","closeWS","WebSocket","close","ensureValueDone","$dialogModifyInterface","warn","curdata","checkConflict","makeAhref","uid","username","fullscreen","maxmin","onBeforeClose","hostname","port","location","wsProtocol","Promise","resolve","reject","sockei","onopen","onmessage","result","parse","errno","onerror","undone","done","labelProxyEnv","envId","vDomCopyAjaxCodePanel","up_time","ajaxCode","window","href","camelCase","position","top","right","zIndex","minHeight","vDomMockHref","descriptions","rowArray","colArray","col","ITEM_OPTIONS_VDOM","dateFormat","is_mock_open","currGroup","custom_field","enable"],"mappings":"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"}